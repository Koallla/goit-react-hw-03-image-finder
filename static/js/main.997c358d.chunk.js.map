{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/App/app.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/API/API.js","components/App/App.jsx","index.js","components/SearchBar/searchBar.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","reset","this","className","styles","searchbar","searchForm","onClick","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","autoComplete","placeholder","Component","ImageGalleryItem","images","length","map","el","src","largeImageURL","key","id","imageGalleryItem","ReactImageAppear","webformatURL","animation","alt","tags","imageGalleryItemImage","defaultProps","ImageGallery","isOpenModal","imageGallery","Button","loadNextPage","button","Loader","loader","color","height","width","Modal","closeOnEscape","code","onClose","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","srcForModal","backdrop","role","modal","img","API","searchQuery","pageNumber","axios","get","App","isLoading","isModalOpen","imgModal","getImages","a","async","then","res","prevState","data","hits","PNotify","error","scrolling","onSubmitSearchBar","onLoadNextPage","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","parentNode","attributes","closeModal","prevProps","container","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.997c358d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__3YJqw\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__3cOHf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"modal_backdrop__3mwAx\",\"modal\":\"modal_modal__1QMFr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__3muEa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__3IAfX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2STBF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__3a6XH\"};","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './searchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: T.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { inputValue } = this.state;\r\n    this.props.onSubmit(inputValue);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm}>\r\n          <button\r\n            onClick={this.handleSubmit}\r\n            type=\"submit\"\r\n            className={styles.searchFormButton}\r\n          >\r\n            <span className={styles.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.searchFormInput}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            value={inputValue}\r\n            autoComplete=\"off\"\r\n            // autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport ReactImageAppear from 'react-image-appear';\r\nimport styles from './imageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images }) => {\r\n  return (\r\n    images.length > 0 &&\r\n    images.map(el => (\r\n      <li\r\n        src={el.largeImageURL}\r\n        key={el.id}\r\n        className={styles.imageGalleryItem}\r\n      >\r\n        <ReactImageAppear\r\n          src={el.webformatURL}\r\n          animation=\"bounceIn\"\r\n          alt={el.tags}\r\n          className={styles.imageGalleryItemImage}\r\n        />\r\n      </li>\r\n    ))\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  images: [],\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: T.arrayOf(T.shape({})),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\nimport T from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGallery.module.css';\n\nconst ImageGallery = ({ images, isOpenModal }) => (\n  <ul onClick={isOpenModal} className={styles.imageGallery}>\n    <ImageGalleryItem images={images} />\n  </ul>\n);\n\nImageGallery.defaultProps = {\n  images: [],\n};\n\nImageGallery.propTypes = {\n  images: T.arrayOf(T.shape({})),\n  isOpenModal: T.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './button.module.css';\n\nconst Button = ({ loadNextPage }) => (\n  <button onClick={loadNextPage} className={styles.button} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  loadNextPage: T.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\r\nimport LoaderComponent from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderComponent type=\"ThreeDots\" color=\"grey\" height={100} width={200} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: T.func.isRequired,\n    srcForModal: T.objectOf(T.string).isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  handleCloseModal = e => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  render() {\n    const { srcForModal } = this.props;\n\n    return (\n      <div\n        onClick={this.handleCloseModal}\n        className={styles.backdrop}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>\n          <img src={srcForModal.img} alt={srcForModal.alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst KEY = '14352220-777927f32e4bda0aacdcec250';\n\nconst API = (searchQuery, pageNumber) => {\n  return axios.get(\n    `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${pageNumber}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport default API;\n","import React, { Component } from 'react';\nimport PNotify from 'pnotify/dist/es/PNotify';\nimport styles from './app.module.css';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport API from '../API/API';\nimport 'pnotify/dist/PNotifyBrightTheme.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    searchQuery: '',\n    pageNumber: 1,\n    isModalOpen: false,\n    imgModal: {\n      img: '',\n      alt: '',\n    },\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.getImages();\n    }\n  }\n\n  getImages = async () => {\n    this.setState({ isLoading: true });\n    const { searchQuery, pageNumber } = this.state;\n    try {\n      await API(searchQuery, pageNumber).then(res =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...res.data.hits],\n        })),\n      );\n    } catch (error) {\n      PNotify.error('Loading error!');\n    }\n\n    this.setState({ isLoading: false });\n    this.scrolling();\n  };\n\n  onSubmitSearchBar = value => {\n    this.setState({ searchQuery: value, pageNumber: 1, images: [] });\n  };\n\n  onLoadNextPage = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  openModal = e => {\n    this.setState({\n      imgModal: {\n        img: e.target.parentNode.attributes[0].value,\n        alt: e.target.alt,\n      },\n    });\n    this.setState({ isModalOpen: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const { images, isLoading, isModalOpen, imgModal } = this.state;\n\n    return (\n      <div className={styles.container}>\n        {!isModalOpen && <SearchBar onSubmit={this.onSubmitSearchBar} />}\n        <ImageGallery images={images} isOpenModal={this.openModal} />\n        {images.length !== 0 && <Button loadNextPage={this.onLoadNextPage} />}\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} srcForModal={imgModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchBar_searchbar__2oUCc\",\"searchForm\":\"searchBar_searchForm__13yoP\",\"searchFormButton\":\"searchBar_searchFormButton__3ZnZ6\",\"searchFormButtonLabel\":\"searchBar_searchFormButtonLabel__f4B6K\",\"searchFormInput\":\"searchBar_searchFormInput__RF_Ng\"};"],"sourceRoot":""}