{"version":3,"sources":["components/SearchBar/searchBar.module.css","components/App/app.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.jsx","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","reset","this","className","styles","searchbar","searchForm","onClick","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","autoComplete","placeholder","Component","ImageGalleryItem","images","length","map","el","key","id","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","defaultProps","ImageGallery","imageGallery","Button","loadNextPage","button","KEY","App","searchQuery","pageNumber","getImages","a","async","axios","get","then","res","prevState","data","hits","scrolling","onSubmitSearchBar","onLoadNextPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","container","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.d9a4e2b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchBar_searchbar__eqD3E\",\"searchForm\":\"searchBar_searchForm__1uolW\",\"searchFormButton\":\"searchBar_searchFormButton__2NHj_\",\"searchFormButtonLabel\":\"searchBar_searchFormButtonLabel__1rfHl\",\"searchFormInput\":\"searchBar_searchFormInput__1YDL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__kcFYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2Xy3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2XP1X\"};","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './searchBar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputValue } = this.state;\n    this.props.onSubmit(inputValue);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm}>\n          <button\n            onClick={this.handleSubmit}\n            type=\"submit\"\n            className={styles.searchFormButton}\n          >\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            onChange={this.handleChange}\n            type=\"text\"\n            value={inputValue}\n            autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './imageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images }) => {\n  return (\n    images.length > 0 &&\n    images.map(el => (\n      <li key={el.id} className={styles.imageGalleryItem}>\n        <img\n          src={el.webformatURL}\n          alt={el.tags}\n          className={styles.imageGalleryItemImage}\n        />\n      </li>\n    ))\n  );\n};\n\nImageGalleryItem.defaultProps = {\n  images: [],\n};\n\nImageGalleryItem.propTypes = {\n  images: T.arrayOf(T.shape({})),\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGallery.module.css';\n\nconst ImageGallery = ({ images }) => {\n  return (\n    <ul className={styles.imageGallery}>\n      <ImageGalleryItem images={images} />\n    </ul>\n  );\n};\n\nImageGallery.defaultProps = {\n  images: [],\n};\n\nImageGallery.propTypes = {\n  images: T.arrayOf(T.shape({})),\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './button.module.css';\n\nconst Button = ({ loadNextPage }) => (\n  <button onClick={loadNextPage} className={styles.button} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  loadNextPage: T.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n// import Loader from 'react-loader-spinner';\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n// import PNotify from 'pnotify/dist/es/PNotify';\nimport styles from './app.module.css';\n// import Button from '../Button/Button';\n// import ImageGallery from '../ImageGallery/ImageGallery';\n// import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n// import Loader from '../Loader/Loader';\n// import Modal from '../Modal/Modal';\n// import SearchBar from '../SearchBar/SearchBar';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\n\nconst KEY = '14352220-777927f32e4bda0aacdcec250';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    // isLoading: false,\n    searchQuery: '',\n    pageNumber: 1,\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.getImages();\n    }\n  }\n\n  getImages = async () => {\n    try {\n      const { searchQuery, pageNumber } = this.state;\n      await axios\n        .get(\n          `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${pageNumber}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(res =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...res.data.hits],\n          })),\n        );\n    } catch (err) {\n      throw err;\n    }\n\n    this.scrolling();\n  };\n\n  onSubmitSearchBar = value => {\n    this.setState({ searchQuery: value });\n  };\n\n  onLoadNextPage = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n    // await this.getImages();\n    // setTimeout(this.scrolling, 1000);\n    // window.scrollTo({\n    //   top: document.documentElement.scrollHeight,\n    //   behavior: 'smooth',\n    // });\n  };\n\n  scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images } = this.state;\n    return (\n      <div className={styles.container}>\n        <SearchBar onSubmit={this.onSubmitSearchBar} />\n        <ImageGallery images={images} />\n        {images.length !== 0 && <Button loadNextPage={this.onLoadNextPage} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__2c0Zb\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__ucHwD\"};"],"sourceRoot":""}