{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/App/app.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/SearchBar/searchBar.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","reset","this","className","styles","searchbar","searchForm","onClick","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","autoComplete","placeholder","Component","ImageGalleryItem","images","openModal","length","map","el","key","id","imageGalleryItem","src","webformatURL","srcSet","largeImageURL","alt","tags","imageGalleryItemImage","defaultProps","ImageGallery","isOpenModal","imageGallery","Button","loadNextPage","button","Loader","loader","color","height","width","Modal","closeOnEscape","code","onClose","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","srcForModal","backdrop","role","modal","img","KEY","App","isLoading","searchQuery","pageNumber","isModalOpen","imgForModal","getImages","a","async","axios","get","then","res","prevState","data","hits","scrolling","onSubmitSearchBar","onLoadNextPage","scrollTo","top","document","documentElement","scrollHeight","behavior","srcset","console","dir","closeModal","prevProps","container","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.3cba161d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__2c0Zb\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__ucHwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"modal_backdrop__2z7Ap\",\"modal\":\"modal_modal__3QJoG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app_container__kcFYf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2Xy3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2XP1X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1SlJq\"};","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './searchBar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = e => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { inputValue } = this.state;\n    this.props.onSubmit(inputValue);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm}>\n          <button\n            onClick={this.handleSubmit}\n            type=\"submit\"\n            className={styles.searchFormButton}\n          >\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            onChange={this.handleChange}\n            type=\"text\"\n            value={inputValue}\n            autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './imageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, openModal }) => {\n  return (\n    images.length > 0 &&\n    images.map(el => (\n      <li key={el.id} className={styles.imageGalleryItem}>\n        <img\n          src={el.webformatURL}\n          srcSet={el.largeImageURL}\n          alt={el.tags}\n          onClick={openModal}\n          className={styles.imageGalleryItemImage}\n        />\n      </li>\n    ))\n  );\n};\n\nImageGalleryItem.defaultProps = {\n  images: [],\n};\n\nImageGalleryItem.propTypes = {\n  images: T.arrayOf(T.shape({})),\n  openModal: T.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGallery.module.css';\n\nconst ImageGallery = ({ images, isOpenModal }) => {\n  return (\n    <ul className={styles.imageGallery}>\n      <ImageGalleryItem images={images} openModal={isOpenModal} />\n    </ul>\n  );\n};\n\nImageGallery.defaultProps = {\n  images: [],\n};\n\nImageGallery.propTypes = {\n  images: T.arrayOf(T.shape({})),\n  isOpenModal: T.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './button.module.css';\n\nconst Button = ({ loadNextPage }) => (\n  <button onClick={loadNextPage} className={styles.button} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  loadNextPage: T.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <LoaderComponent type=\"ThreeDots\" color=\"grey\" height={100} width={200} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: T.func.isRequired,\n    srcForModal: T.objectOf(T.string).isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  handleCloseModal = e => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    const { onClose } = this.props;\n    onClose();\n  };\n\n  render() {\n    const { srcForModal } = this.props;\n\n    return (\n      <div\n        onClick={this.handleCloseModal}\n        className={styles.backdrop}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>\n          <img src={srcForModal.img} alt={srcForModal.alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport styles from './app.module.css';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\n\nconst KEY = '14352220-777927f32e4bda0aacdcec250';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    searchQuery: '',\n    pageNumber: 1,\n    isModalOpen: false,\n    imgForModal: {\n      img: '',\n      alt: '',\n    },\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.getImages();\n    }\n  }\n\n  getImages = async () => {\n    try {\n      this.setState({ isLoading: true });\n      const { searchQuery, pageNumber } = this.state;\n      await axios\n        .get(\n          `https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${pageNumber}&image_type=photo&orientation=horizontal&per_page=12`,\n        )\n        .then(res =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...res.data.hits],\n          })),\n        );\n    } catch (err) {\n      throw err;\n    }\n    this.setState({ isLoading: false });\n    this.scrolling();\n  };\n\n  onSubmitSearchBar = value => {\n    this.setState({ searchQuery: value });\n  };\n\n  onLoadNextPage = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  openModal = e => {\n    this.setState({\n      imgForModal: {\n        img: e.target.srcset,\n        alt: e.target.alt,\n      },\n    });\n    this.setState({ isModalOpen: true });\n\n    console.dir(e.target.srcset);\n  };\n\n  // modalWithImg = event => {\n  //   const srcimg = event.target.srcset;\n  //   console.log(srcimg);\n  // };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const { images, isLoading, isModalOpen, imgForModal } = this.state;\n\n    return (\n      <div className={styles.container}>\n        {!isModalOpen && <SearchBar onSubmit={this.onSubmitSearchBar} />}\n\n        <ImageGallery images={images} isOpenModal={this.openModal} />\n\n        {images.length !== 0 && <Button loadNextPage={this.onLoadNextPage} />}\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} srcForModal={imgForModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchBar_searchbar__eqD3E\",\"searchForm\":\"searchBar_searchForm__1uolW\",\"searchFormButton\":\"searchBar_searchFormButton__2NHj_\",\"searchFormButtonLabel\":\"searchBar_searchFormButtonLabel__1rfHl\",\"searchFormInput\":\"searchBar_searchFormInput__1YDL0\"};"],"sourceRoot":""}